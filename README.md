# HSE_Project2018

## Описание проекта
В проекте реализована система дистрибуции таргетированного медиаконтента для компаний, осуществляющих face-to-face обслуживание клиентов, состоящая из веб-плеера для клиента организации и веб-интерфейса для ее сотрудника. Клиент сидит перед специальным медиаэкраном. На основании данных с камеры устройства определяются его пол и возраст, после чего на медиаэкране демонстрируется таргетированный контент. Контент определяется сотрудником компании, вносящим данные через специальный интерфейс.
В проекте реализованы фронтенд (плеер и интерфейс) и бэкэнд.
Использованные технологии: C#, ASP .Net Core, Entity Framework, Azure Functions, HTML, JavaScript.
Проект выполнялся совместно с Бобровским Артемием (https://github.com/ageraab).

## Архитектура проекта
Хранение данных осуществляется в базе данных SQL (информация о контенте, таргетах и интерфейсе) и в Azure Blob Storage (видео). Данные вносятся при помощи веб-интерфейса (WebApp). Взаимодействие с базой данных производится с помощью Entity Frameork, с Blob Storage - при помощи средств C# для работы с Blob Storage.
Для показа контента используется веб-плеер. Скрипт (js), работающий в плеере, опрашивает сервер для определения контента для трансляции. На сервере запускается функция, которая обращается к API Microsoft, определяющему пол и возраст клиента (в учебной версии проекта API заменено на функцию, выдающую фиксированные возраст и пол). Затем функция обращается к базе данных, пытаясь найти информацию о контенте для текущего клиента. Если информация найдена, функция обращается к Blob Storage. В результате, скрипт в плеере получает JSON-файл с ссылкой на видео, а также информацию об интерфейсе плеера.

## Реализованный функционал
1. Создан интерфейс веб-сайта(/WebPlayer/clients_interface.html), визуализирующего медиаконтент из базы данных.
2. Созданы различные стили кнопок (/WebPlayer/clients_interface.css). При загрузке видео в базу данных пользователь выбирает стиль кнопок, с помощью которых клиенты в дальшейшем будут выражать уловлетворенность контентом.
3. Информацию о контенте поступает через json (/WebPlayer/clients_interface.js). Она содержит ссылку на видео, тип кнопки и текст, который будет написан на кнопках like и dislike.

## Инструкции по запуску
http://tmchse.azurewebsites.net/ - интерфейс внесения данных

http://tmcplayerhse.azurewebsites.net/ - плеер (видео подгружается некоторое время)

### Альтернативный способ

Для запуска WebPlayer (плеера) установить MAMP, WAMP или LAMP (в зависимости от операционной системы). В качестве корневого каталога в настройках сервера выбрать папку с проектом. Установить в настройках MAMP порт 8888. Запустить сервер, в браузере открыть http://localhost:8888/. После чего выбрать файл /WebPlayer/clients_interface.html
Для запуска WebApp (интерфейса внесения данных) использовать MS Visual Studio 2017. Необходимо открыть файл /WebApp/TargetMediaContent.sln, запустить его в Visual Studio.

## Итоги

Проектная работа позволила овладеть навыками разработки бэкэнда и фронтэнда. Изучен язык программирования JavaScript (в том числе работа с анонимными функциями), и языки разметки HTML и CSS.

